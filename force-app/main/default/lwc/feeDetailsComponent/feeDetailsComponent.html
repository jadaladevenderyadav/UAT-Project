<template>
    <div class="slds-m-around_x-small">
        <template if:false={scholarshipDetails}>
            <lightning-layout>
                <lightning-layout-item flexibility="auto" padding="horizontal-medium">
                    <lightning-button variant="brand" label="Apply Scholarship" title="Apply Scholarship"
                        onclick={handleClickShow} class="slds-float_left slds-text-title_bold"
                        disabled={applyScholarshipDisabled}
                    >
                    </lightning-button>
                </lightning-layout-item>
                <lightning-layout-item flexibility="auto" padding="horizontal-medium" align="right">
                    <lightning-button variant="brand" label="Remove Scholarship" title="Remove Scholarship"
                        onclick={handleConfirmationShowModal} class="slds-float_right slds-text-title_bold"
                        disabled={removeScholarshipDisabled}
                    >
                    </lightning-button>
                  
                    
                </lightning-layout-item>
            </lightning-layout>
        </template>
    </div>
    <template if:true={showChildCom}>
        <c-scholarship-details-component selected-school={selectedSchool} program={selectedProgram}
            tenth-marks={tenthMarks} twelfth-marks={twelfthMarks} type={type} program-type={programType} ug-marks={ugMarks} get-number-of-years={numberOfYears}
            oninputcarryevent={handleClick} ></c-scholarship-details-component>
    </template>
    <br />
    <template if:true={showConfirmationModal}>
        <!-- Modal/Popup Box LWC starts here -->
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container">
                <!-- Modal/Popup Box LWC header here -->
                <header class="slds-modal__header">
                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={handleConfirmationCloseModal}>
                        <lightning-icon icon-name="utility:close"
                            alternative-text="close"
                            variant="inverse"
                            size="small" ></lightning-icon>
                        <span class="slds-assistive-text">Close</span>
                    </button>
                    <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Remove Scholarship</h2>
                </header>
                <!-- Modal/Popup Box LWC body starts here -->
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                    <p><b> Confirm to remove scholarship?
                    </b></p>
                    
                </div>
                <!-- Modal/Popup Box LWC footer starts here -->
                <footer class="slds-modal__footer">
                    <button class="slds-button slds-button_neutral" onclick={handleConfirmationCloseModal} title="Cancel">Cancel</button>
                    <button class="slds-button slds-button_brand" onclick={removeScholarship} title="Ok">Confirm</button>
                </footer>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </template>
    <br/>
    <template if:true={showLoadingModal}>
              
                    <div class="spinner">
                        <lightning-spinner alternative-text="Loading" variant="brand" size="large">
                        </lightning-spinner>
                          </div>

    </template>

    <lightning-layout>
        <lightning-layout-item flexibility="auto" padding="horizontal-medium">
            <legend class="slds-form-element__legend slds-form-element__label">Category:</legend>
            <lightning-input value= {Category} readonly></lightning-input>
        </lightning-layout-item>
        <lightning-layout-item flexibility="auto" padding="horizontal-medium">
            <legend class="slds-form-element__legend slds-form-element__label">Quota:</legend>
            <lightning-input value= {admissionMode} readonly></lightning-input>
        </lightning-layout-item>
        <lightning-layout-item flexibility="auto" padding="horizontal-medium">
            <legend class="slds-form-element__legend slds-form-element__label">Concession Status:</legend>
            <lightning-input value={ApplicationConcessionStatus} readonly></lightning-input>
        </lightning-layout-item>
        <lightning-layout-item flexibility="auto" padding="horizontal-medium">
            <template if:true={PAFStatus}>
                <lightning-input class="slds-text-align_left slds-text-title_bold" type="checkbox"
                    label="Provisional Admission Fee Status" name="input3" checked disabled></lightning-input>
            </template>
            <template if:false={PAFStatus}>
                <lightning-input class="slds-text-align_left slds-text-title_bold" type="checkbox"
                    label="Provisional Admission Fee Status" name="input3" unchecked disabled></lightning-input>
            </template>

        </lightning-layout-item>
        
        
    </lightning-layout>
    <br />
    <table class="slds-table slds-table--bordered slds-table--cell-buffer">

        <template for:each={feeArray} for:item="Year">
            <td key={Year.id}>
                <span class="slds-form-element__legend slds-form-element__label" title="Year Name">{Year.Name}</span>
                <lightning-input class="TuitionFees" label=" " value={Year.TuitionFees} readonly></lightning-input>
                <lightning-input class="UniversityFees" label=" " value={Year.UniversityFees} readonly></lightning-input>
                <lightning-input class="Premium" label=" " value={Year.Premium}
                onchange={getInputValues}></lightning-input>
                <lightning-input class="Scholarship" label=" " value={Year.Scholarship} onvaluechange={getInputValues}
                    readonly></lightning-input>
                <lightning-input class="Concession" label=" " value={Year.Concession}
                    onchange={getInputValues}></lightning-input>
                <lightning-input class="SeatBlockingAmount" label=" " value={Year.SeatBlockingAmount}
                    onchange={getInputValues}></lightning-input>

                <lightning-input class="Balancetobepaid" label=" " value={Year.BalanceFee} onchange={getInputValues}
                    readonly></lightning-input>

            </td>
        </template>
    </table><br />
    <template if:true={showError}>
        <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon_left error-message">
            <label class="slds-form-element__label" for="text-input-id-5">Something Went Wrong! </label>
            <lightning-icon size="small" class="slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default"
                icon-name="utility:error"></lightning-icon>
            <input type="text" value={errorText} class="slds-input" readonly />
        </div>
    </template>
    <lightning-input class="Remarks" label="Concession Remarks" onchange={getInputValues}></lightning-input> 
    <template if:true={showError2}>
        <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon_left warning-message">
            <label class="slds-form-element__label" for="text-input-id-5">Warning! </label>
            <lightning-icon size="small" class="slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default"
            icon-name="utility:warning"></lightning-icon>
            <input type="text" value={errorText2} class="slds-input" readonly />
            </div>
    </template><br/>
    <lightning-button class="Submit" label="Submit"
        onclick={handleStudentFeeRecordCreationOrUpdation}></lightning-button>
</template>