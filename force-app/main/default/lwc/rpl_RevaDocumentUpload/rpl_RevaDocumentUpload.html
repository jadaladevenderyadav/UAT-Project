<template>
    <div class="container">
        <template lwc:if={modifiedData}>
            <h1 class="">{placementRegistrationText}</h1>
            <h1 class="">NOTE: Kindly ensure that the uploaded file size is less than 2MB.</h1>
            <div class="document-upload-container">
                <img src={file_icon}>
                <table>
                    <tbody>
                        <template for:each={modifiedData} for:item="row">
                            <tr key={row.id}>
                                <td data-cell="S.No">
                                    <p class="slds-text-link pointer-hover" data-id={row.id}
                                        onclick={viewResultHandler}>
                                       <span class="mar-bottom"> <strong>{row.id}</strong></span>
                                    </p>
                                </td>
                                <td class="mar-bottom" data-cell="Document Name">
                                    <span class="mar-bottom"><strong>{row.documentName}</strong></span>
                                </td>
                                <td data-cell="Upload / Preview">
                                    <div class="upload-preview">
                                        <lightning-button-icon icon-name="utility:attach" title="Attach Document"
                                            variant="brand" onclick={handleUploadClick} data-row-id={row.id}
                                            size="large"
                                            class="slds-m-horizontal_auto reva-brand-button"></lightning-button-icon>
                                        <lightning-button-icon if:true={row.fileData} icon-name="action:preview"
                                            title="View Document" variant="brand" onclick={handlePreviewClick}
                                            data-row-id={row.id} size="large"
                                            class="slds-m-horizontal_auto reva-brand-button slds-m-left_medium"></lightning-button-icon>
                                    </div>
                                </td>
                                <td data-cell="Upload / Preview">
                                    <div class="upload-preview">
                                        <lightning-button-icon icon-name="action:upload" title="Submit Document"
                                            variant="brand" onclick={handleSubmitClick} data-row-id={row.id}
                                            disabled={row.isButtonDisabled} size="large"
                                            class="slds-m-horizontal_auto reva-brand-button"></lightning-button-icon>
                                        <img src={row.imgSrc}
                                            class="slds-m-horizontal_auto slds-m-left_medium status-icon" />
                                        <!-- <lightning-icon icon-name={row.iconName} size={row.iconSize}  variant="brand"
                                            class="slds-m-horizontal_auto slds-m-left_medium" alternative-text="Status">
                                        </lightning-icon> -->
                                        <!--  <lightning-button-icon icon-name={row.iconName} title="Status" variant="brand"
                                            onclick={handlePreviewClick} data-row-id={row.id} style="margin:4px"
                                            size="large" class="slds-m-horizontal_auto"></lightning-button-icon> -->
                                    </div>
                                </td>
                                <!--  <td data-cell="Submit">
                                    <lightning-button label={row.submitLabel} title="Submit Document" variant="brand"
                                        onclick={handleSubmitClick} data-row-id={row.id} disabled={row.isButtonDisabled}
                                        class="slds-m-horizontal_auto"></lightning-button>
                                </td> -->
                                <td class="slds-hide">
                                    <input type="file" accept=".pdf" onchange={handleFileChange} data-row-id={row.id} />
                                </td>
                            </tr>
                        </template>
                    </tbody>
                </table>
                <div class="next-prev-button-section">
                    <button class="reva-brand-button  prev-next-btn" onclick={handleNext}>Next</button>
                </div>
            </div>
        </template>


        <template if:true={isSpinner}>
            <div class="slds-is-relative">
                <section class="slds-modal slds-fade-in-open">
                    <lightning-spinner alternative-text="loading..." variant="brand"></lightning-spinner>
                </section>
                <div class="slds-backdrop slds-backdrop_open" style="width: 60%; height:50%; margin:auto"></div>
            </div>
        </template>

    </div>
</template>