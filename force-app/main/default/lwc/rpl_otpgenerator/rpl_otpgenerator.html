<!--
  @description       : 
  @author            : ChangeMeIn@UserSettingsUnder.SFDoc
  @group             : 
  @last modified on  : 10-14-2023
  @last modified by  : ChangeMeIn@UserSettingsUnder.SFDoc
-->
<template>
    <template if:true={showModal}>
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
            aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container">
                <header class="slds-modal__header">
                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                        title="Close" onclick={handleClose}>
                        <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse"
                            size="small"></lightning-icon>
                        <span class="slds-assistive-text">Close</span>
                    </button>
                    <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Generate OTP</h2>
                </header>
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                    <lightning-input type="text" name="Email" label="Email Address"
                        value={otpGenerator.Personal_Email__c} onchange={handleEmailValue}></lightning-input>
                </div>
                <footer class="slds-modal__footer">
                    <div class="timer-wrapper">
                        <lightning-button label="Verify" onclick={openVerifyModal}></lightning-button>
                    </div>
                </footer>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </template>


    <template if:true={showVerifyModal}>
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-02" aria-modal="true"
            aria-describedby="modal-content-id-2" class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container">
                <header class="slds-modal__header">
                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                        title="Close" onclick={handleClose}>
                        <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse"
                            size="small"></lightning-icon>
                        <span class="slds-assistive-text">Close</span>
                    </button>
                    <h2 id="modal-heading-02" class="slds-text-heading_medium slds-hyphenate">Verify OTP</h2>
                </header>
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-2">
                    <lightning-input type="text" label="Enter OTP" name="otpInput" value={otpValue}
                        onchange={handleInputOtpChange} maxlength="7" onblur={validateOtp}
                        pattern="\d*"></lightning-input>
                </div>
                <footer class="slds-modal__footer">
                    <div class="timer-1">
                        <lightning-button label="Resend OTP" onclick={handleResendOtp}
                            disabled={isResendOTP}></lightning-button>
                        <div class="timer">{ minutes } min {seconds} sec</div>
                        <lightning-button label="Submit OTP" onclick={handleSuccessfulVerification}
                            disabled={isSubmitOTP}></lightning-button>
                    </div>

                </footer>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </template>


    <template if:true={studentRegRecordId}>
        <!-- <c-rpl_-student-registration-form student-reg-record-id={studentRegRecordId}
            onisstudentregistrationsuccess={studentRegistrationButton}></c-rpl_-student-registration-form> -->
        <c-rpl_student-registrationpathflow studentregrecordid={contactId}></c-rpl_student-registrationpathflow>
    </template>
</template>