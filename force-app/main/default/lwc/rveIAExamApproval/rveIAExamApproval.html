<!-- contactList.html -->
<template>
    <lightning-card title="Ineligible Students for IA">
        <template if:true={ifContacts}>
            <div class="slds-m-around_medium">
                <lightning-input type="search" label="Search from Contact" onchange={handleSearch}></lightning-input>
            </div>
        </template>
        <template if:true={ifContacts}>
            <lightning-card title="Contact List">
                <div class="slds-m-around_medium">
                    <table class="slds-table slds-table_cell-buffer slds-table_bordered">
                        <thead>
                            <tr>
                                <th>
                                    <lightning-input type="checkbox" onchange={selectAllCheckboxChange}></lightning-input>
                                </th>
                                <th>Name</th>
                                <th>SRN Number</th>
                                <th>Program Batch</th>
                            </tr>
                        </thead>
                        <tbody>
                            <template for:each={contacts} for:item="contact">
                                <tr key={contact.Id}>
                                    <td>
                                        <lightning-input type="checkbox" onchange={handleCheckboxChange} data-id={contact.Id} checked={selectAllChecked}></lightning-input>
                                    </td>
                                    <td>{contact.Name}</td>
                                    <td>{contact.SRN_Number__c}</td>
                                    <td>{contact.Program_Batch_Name}</td>
                                </tr>
                            </template>
                        </tbody>
                    </table>
                    <lightning-button label="Next" onclick={handleNext} disabled={isNextButtonDisabled}></lightning-button>
                </div>
            </lightning-card>
        </template>
        <template if:true={showSelectedContacts}>
            <lightning-card title="Selected Contacts">
                <div class="slds-m-around_medium">
                    <table class="slds-table slds-table_cell-buffer slds-table_bordered">
                        <thead>
                            <tr>
                                <th>SRN Number</th>
                                <th>Name</th>
                                <th>Program Batch</th>
                                <th>Comments</th>
                            </tr>
                        </thead>
                        <tbody>
                            <template for:each={selectedContacts} for:item="contact">
                                <tr key={contact.Id}>
                                    <td>{contact.SRN_Number__c}</td>
                                    <td>{contact.Name}</td>
                                    <td>{contact.Program_Batch_Name}</td>
                                    <td>
                                        <lightning-input type="text" value={contact.Comment} onchange={handleCommentChange} data-id={contact.Id}></lightning-input>
                                    </td>
                                </tr>
                            </template>
                        </tbody>
                    </table>
                    <lightning-button label="Previous" onclick={handlePrevious}></lightning-button>
                    <lightning-button label="Save" onclick={handleSave}></lightning-button>
                </div>
            </lightning-card>
        </template>
    </lightning-card>
    <br></br>
   <!-- <c-in-Eligible-Student-Search></c-in-Eligible-Student-Search>-->
</template>